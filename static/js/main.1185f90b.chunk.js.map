{"version":3,"sources":["components/constants.tsx","assets/images/Ultra.svg","components/Ultra.tsx","actions/talentActions.tsx","models/Talent.tsx","actions/timerActions.tsx","actions/types.tsx","models/NullTalentIncubator.tsx","utils/time.tsx","assets/images/PlayButton.svg","assets/images/StopButton.svg","components/PlayToggleButton.tsx","components/TalentControls.tsx","assets/images/EditIcon.svg","assets/images/DeleteIcon.svg","components/TalentRightClickMenu.tsx","components/TalentListItem.tsx","components/TalentList.tsx","components/TalentTimer.tsx","assets/images/Logo.svg","components/Header.tsx","assets/images/AddTalentButton.svg","components/NewTalentButton.tsx","components/UltraConsole.tsx","App.tsx","serviceWorker.tsx","reducers/talentReducer.tsx","reducers/timerReducer.tsx","reducers/index.tsx","store.tsx","models/SimpleModel.tsx","models/LocalTalentModel.tsx","models/TalentSession.tsx","models/LocalTalentSessionModel.tsx","models/TalentIncubator.tsx","modelSetup.tsx","index.tsx"],"names":["cGhostBlue","cMedBlue","cUltraBlue","cGold","bodyFont","fontFamily","medBlue","color","centerCell","display","justifyContent","alignItems","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","react_default","a","createElement","id","data-name","d","Ultra_SvgUltra","_ref","svgRef","props","width","height","viewBox","ref","ForwardRef","forwardRef","__webpack_require__","p","FlashingUltra","styled","UltraImage","_templateObject","Ultra","talentModel","_props$backgroundOpac","_props$closeTarget","_props$background","progressNorm","Math","min","progress","progressTarget","floor","backgroundOpacity","topFill","closeTarget","flashbarScale","beingTimed","Fragment","style","opacity","fill","background","gridColumn","gridRow","position","transform","concat","transformOrigin","transitionTimingFunction","transitionDuration","createTalent","name","userId","undefined","goldUltras","totalSeconds","streakCount","streakObtained","expiring","burndown","cloneTalent","talent","sessionModel","assertModelActive","EvalError","getTalents","dispatch","type","payload","getAll","newTalent","create","deleteTalent","deleteId","updateTalent","update","calculateTalentProgression","getState","_getState","talents","timer","talentsData","items","sessionsData","sessions","_step","currentDate","Date","_iterator","createForOfIteratorHelper","_loop","value","filter","s","talentId","reset","setHours","getTime","setDate","getDate","todaysHits","startTimestamp","endTimestamp","hits","latestHit","reduce","cur","next","arr","pastExpiryDate","expirationDateMs","hitEndMs","isBurningDown","nDays","ultrasLost","max","ultrasHeld","n","done","err","e","f","NullTalentIncubator","classCallCheck","createClass","session","Null","incubator","startSession","isIncubating","stopSession","exchange","incubate","bredTalent","getTalent","get","pollSession","stop","document","title","poll","timeString","ts","seconds","round","minutes","hours","prettyTimeString","progressObtained","getSessions","PlayButton_extends","PlayButton_objectWithoutProperties","PlayButton_objectWithoutPropertiesLoose","PlayButton_ref2","PlayButton_SvgPlayButton","PlayButton_ForwardRef","StopButton_extends","StopButton_objectWithoutProperties","StopButton_objectWithoutPropertiesLoose","StopButton_ref2","StopButton_SvgStopButton","StopButton_ForwardRef","PlayToggleButton","useDispatch","startSessionAction","useCallback","stopSessionAction","ghost","placeholder","test-id","onClick","cursor","TalentControls","textColor","sh","ceil","objectSpread2","marginRight","fontSize","margin","mixBlendMode","role","aria-label","textAlign","marginTop","marginBottom","components_PlayToggleButton","EditIcon_extends","EditIcon_objectWithoutProperties","EditIcon_objectWithoutPropertiesLoose","EditIcon_ref2","EditIcon_SvgEditIcon","EditIcon_ForwardRef","DeleteIcon_extends","DeleteIcon_objectWithoutProperties","DeleteIcon_objectWithoutPropertiesLoose","DeleteIcon_ref2","DeleteIcon_SvgDeleteIcon","DeleteIcon_ForwardRef","MenuItem","_useState","useState","_useState2","slicedToArray","hovering","setHovering","mouseEnter","mouseLeave","Row","className","backgroundColor","borderRadius","maxWidth","onMouseEnter","onMouseLeave","onMouseUp","click","Col","icon","text","TalentRightClickMenu","deleteAction","top","y","left","x","boxShadow","zIndex","EditIcon","edit","DeleteIcon","TalentListItem","blockCancel","useRef","beginEditing","editing","setEditing","enableEditing","current","setTimeout","useEffect","handleDisableEditingOnDefocus","addEventListener","removeEventListener","_useState3","_useState4","rightClick","setRightClick","_useState5","_useState6","rightClickCoords","setRightClickCoords","openRightClickMenu","preventDefault","pageX","pageY","handleCloseOnDefocus","progressDisplayValue","overflow","closeTargetDisplayValue","_useState7","_useState8","setName","onEditNameChange","onEditNameFinished","minHeight","onContextMenu","components_TalentRightClickMenu","minWidth","onSubmit","border","padding","onChange","components_Ultra","components_TalentControls","TalentList","map","components_TalentListItem","lastBeginsEditing","TalentProgress","dummyTalent","TalentPlaceholder","borderStyle","borderColor","borderWidth","TalentTimer","timing","setTimer","setInterval","clearInterval","Logo_extends","Logo_objectWithoutProperties","Logo_objectWithoutPropertiesLoose","Logo_ref2","_ref3","_ref4","Logo_SvgLogo","Logo_ForwardRef","Header","maxHeight","AddTalentButton_extends","AddTalentButton_objectWithoutProperties","AddTalentButton_objectWithoutPropertiesLoose","AddTalentButton_ref2","AddTalentButton_SvgAddTalentButton","AddTalentButton_ForwardRef","NewTalentButton","opening","setOpening","newTalentAction","window","scrollTo","outerHeight","conditionalAnimation","showHint","setShowHint","UltraConsole","_localStorage$getItem","_localStorage$getItem5","con","JSON","parse","localStorage","getItem","_localStorage$getItem2","_localStorage$getItem3","_localStorage$getItem4","dayJump","parseInt","timeModifier","today","stringify","tomorrow","advanceTo","setItem","setMilliseconds","getMilliseconds","previousLogs","entry","setEntry","log","setLog","typeCommandEntry","fireCommandEntry","niceDate","date","_raw$split","toString","split","_raw$split2","month","day","year","time","scribe","newLog","toConsumableArray","strVal","startsWith","isNaN","location","reload","mod","dLog","getElementById","scrollHeight","borderBottom","overflowY","el","borderTop","App","eco","ReactGA","initialize","pageview","tm","ev","event","category","action","bVal","state","useSelector","_state$timer$session","components_Header","components_TalentTimer","components_TalentList","components_NewTalentButton","components_UltraConsole","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","onUpdate","onSuccess","catch","error","model","newIncubator","initialState","combineReducers","sort","b","newItems","tal","findIndex","targetId","exclusionItems","includeItem","middleware","thunk","createUltraStore","createStore","rootReducer","applyMiddleware","SimpleModel","kvPairs","cloneFunc","getIdFunc","setIdFunc","_this","counter","models","ReferenceError","pair","Map","_i","_Array$from","Array","from","nId","TypeError","has","RangeError","clone","set","save","values","element","delete","LocalTalentModel","talentPairs","initialTalents","rawTalents","_super","cloneSession","LocalTalentSessionModel","initialTalentSessions","seed","getPrototypeOf","createSession","TalentIncubator","initialTalent","lastUpdateMs","now","nowMs","sDelta","nOverflow","configureSessionModel","ReactDOM","render","es","store","src_App","URL","process","href","origin","fetch","response","contentType","headers","status","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.1185f90b.chunk.js","sourcesContent":["export const cGhostBlue = \"#D7D6FF\";\r\nexport const cMedBlue = \"#8E8AFF\";\r\nexport const cUltraBlue = \"#453EFF\";\r\nexport const cGold = \"#FFC916\";\r\n\r\nexport const bodyFont: React.CSSProperties = {\r\n    fontFamily: \"Signika\"\r\n}\r\n\r\nexport const medBlue: React.CSSProperties = {\r\n    color: cMedBlue\r\n}\r\n\r\nexport const centerCell: React.CSSProperties = {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Polygon_43\",\n  \"data-name\": \"Polygon 43\",\n  d: \"M63,0l63,111H0Z\"\n});\n\nvar SvgUltra = function SvgUltra(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 130,\n    height: 111,\n    viewBox: \"0 0 130 111\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUltra, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Ultra.14482710.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\n\r\nimport styled from 'styled-components';\r\n\r\nimport { ReactComponent as UltraImage } from '../assets/images/Ultra.svg';\r\nimport { cGhostBlue, cUltraBlue, cGold } from './constants';\r\n\r\nconst FlashingUltra = styled(UltraImage)`\r\n@-webkit-keyframes flash {\r\n\t0% { opacity: 1; } \r\n    20% { opacity: 0; }\r\n    80% { opacity: 0; }\r\n\t100% { opacity: 1; }\r\n}\r\n@keyframes flash {\r\n\t0% { opacity: 1; } \r\n    20% { opacity: 0; }\r\n    80% { opacity: 0; }\r\n\t100% { opacity: 1; }\r\n}\r\n\r\n-webkit-animation: flash linear 1s infinite;\r\nanimation: flash linear 1s infinite;\r\n`;\r\n\r\ntype UltraProps = {\r\n    progress: number,\r\n    progressTarget: number,\r\n    closeTarget?: number,\r\n    background?: string,\r\n    backgroundOpacity?: string,\r\n    beingTimed?: boolean\r\n}\r\n\r\nfunction Ultra(props: UltraProps) {\r\n    // Limit progress as emulated progress results in values greater than 1\r\n    let progress = Math.min(props.progress, props.progressTarget)\r\n    let progressNorm = progress / props.progressTarget;\r\n    progressNorm = Math.floor(progressNorm * 100) / 100;\r\n\r\n    let backgroundOpacity = props.backgroundOpacity ?? \"1\";\r\n    let topFill = progressNorm === 1 ? cGold : cUltraBlue;\r\n    let closeTarget = Math.min(props.closeTarget ?? 0, 1);\r\n\r\n    let flashbarScale = Math.min(props.beingTimed ? progressNorm + 0.05 : 0, 1);\r\n    return (\r\n        <>\r\n        <div style={{\r\n            display: \"grid\"\r\n        }}>\r\n            <UltraImage opacity={backgroundOpacity}\r\n                fill={props.background ?? cGhostBlue}\r\n                style={{\r\n                    gridColumn: 1,\r\n                    gridRow: 1\r\n                }} />\r\n            <UltraImage opacity={0.5} fill={topFill}\r\n                style={{\r\n                    position: \"relative\",\r\n                    transform: `scale(${closeTarget})`,\r\n                    transformOrigin: \"bottom left\",\r\n                    transitionTimingFunction: \"ease-out\",\r\n                    transitionDuration: \"300ms\",\r\n                    gridColumn: 1,\r\n                    gridRow: 1,\r\n                }} />\r\n            <FlashingUltra fill={cGold}\r\n                style={{\r\n                    position: \"relative\",\r\n                    transform: `scale(${flashbarScale})`,\r\n                    transformOrigin: \"bottom left\",\r\n                    transitionTimingFunction: \"ease-out\",\r\n                    transitionDuration: \"300ms\",\r\n                    gridColumn: 1,\r\n                    gridRow: 1\r\n                }} />\r\n            <UltraImage fill={topFill}\r\n                style={{\r\n                    position: \"relative\",\r\n                    transform: `scale(${progressNorm})`,\r\n                    transformOrigin: \"bottom left\",\r\n                    transitionTimingFunction: \"ease-out\",\r\n                    transitionDuration: \"300ms\",\r\n                    gridColumn: 1,\r\n                    gridRow: 1,\r\n                }} />\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Ultra;","import { Talent, createTalent } from '../models/Talent';\r\nimport IModel from '../models/IModel';\r\nimport { NEW_TALENT, DELETE_TALENT, GET_TALENTS, UPDATE_TALENT, EXCLUDE_TALENT, INCLUDE_TALENT, CALCULATE_PROGRESSION } from './types';\r\nimport { RootState } from '../store';\r\nimport { TalentSession } from '../models/TalentSession';\r\n\r\nlet talentModel: IModel<Talent>;\r\n\r\n/**\r\n * Changes how actions will interact with talent data, and how talent data\r\n * will be stored.\r\n * @param model A model object that manages talent data.\r\n */\r\nexport const configureModel = (model: IModel<Talent>) => {\r\n    talentModel = model;\r\n}\r\n\r\nconst assertModelActive = () => {\r\n    if (talentModel === null || talentModel === undefined)\r\n        throw new EvalError(\"Could not evaluate dispatch action. configureModel() has not been called on this action script.\");\r\n}\r\n\r\nexport const getTalents = () => (dispatch: any) => {\r\n    assertModelActive();\r\n    let talents = talentModel.getAll();\r\n    dispatch({\r\n        type: GET_TALENTS,\r\n        payload: talents\r\n    })\r\n}\r\n\r\nexport const newTalent = (name: string) => (dispatch: any) => {\r\n    assertModelActive();\r\n    let newTalent = talentModel.create(createTalent(0, name));\r\n    dispatch({\r\n        type: NEW_TALENT,\r\n        payload: newTalent\r\n    });\r\n}\r\n\r\nexport const deleteTalent = (id: number) => (dispatch: any) => {\r\n    assertModelActive();\r\n    talentModel.deleteId(id);\r\n    dispatch({\r\n        type: DELETE_TALENT,\r\n        payload: id\r\n    });\r\n}\r\n\r\nexport const updateTalent = (talent: Talent) => (dispatch: any) => {\r\n    assertModelActive();\r\n    let modelTalent = talentModel.update(talent);\r\n    dispatch({\r\n        type: UPDATE_TALENT,\r\n        payload: modelTalent\r\n    });\r\n}\r\n\r\nexport const excludeTalent = (id: number) => (dispatch: any) => {\r\n    dispatch({\r\n        type: EXCLUDE_TALENT,\r\n        payload: id\r\n    });\r\n}\r\n\r\nexport const includeTalent = (id: number) => (dispatch: any) => {\r\n    assertModelActive();\r\n    let modelTalent = talentModel.get(id);\r\n    dispatch({\r\n        type: INCLUDE_TALENT,\r\n        payload: modelTalent\r\n    });\r\n}\r\n\r\nexport const calculateTalentProgression = () => (dispatch: any, getState: () => RootState) => {\r\n    const { talents, timer } = getState();\r\n    let talentsData = talents.items;\r\n    let sessionsData = timer.sessions;\r\n    \r\n    if (sessionsData.length === 0)\r\n        return\r\n\r\n    if (talentsData.length === 0)\r\n        return\r\n\r\n    let currentDate = new Date();\r\n    for (let talent of talentsData) {\r\n        let sessions = sessionsData.filter(s => s.talentId === talent.id);\r\n\r\n        // Move on and don't modify talent data, talent has never been timed\r\n        if (sessions.length === 0)\r\n            continue;\r\n\r\n        let reset = new Date(currentDate);\r\n        reset.setHours(4, 0, 0, 0);\r\n        \r\n        // Move back a waking day if we're between the 0 AM - 4 AM time range\r\n        if (currentDate.getTime() <= reset.getTime()) {\r\n            reset.setDate(reset.getDate() - 1);\r\n        }\r\n\r\n        // Calculate whether a streak hit is available\r\n\r\n        let todaysSessions = sessions.filter(s => s.startTimestamp.getTime() >= reset.getTime());\r\n\r\n        let todaysHits = todaysSessions.filter(s => {\r\n            if (!s.endTimestamp)\r\n                throw new EvalError(\"Couldn't calculate talent progression. Two sessions haven't been marked as ended. Data is possibly corrupted.\");\r\n                // return false;\r\n\r\n            return s.endTimestamp.getTime() - s.startTimestamp.getTime() >= 1800000\r\n        });\r\n\r\n        talent.streakObtained = todaysHits.length > 0;\r\n\r\n        // Calculate whether talent is expiring\r\n\r\n        let hits = sessions\r\n            .filter(s => {\r\n                if (!s.endTimestamp)\r\n                    throw new EvalError(\"Couldn't calculate talent progression. Transcendent timers aren't implemented yet. Data is possibly corrupted.\")\r\n                \r\n                return s.endTimestamp.getTime() - s.startTimestamp.getTime() >= 1800000\r\n            });\r\n\r\n        let latestHit: TalentSession | null = null;\r\n        if (hits.length > 0) {\r\n            latestHit = hits.reduce((cur, next, i, arr) =>\r\n                next.endTimestamp!.getTime() > cur.endTimestamp!.getTime() ? next : cur\r\n            );\r\n        }\r\n\r\n        if (latestHit) {\r\n            // Mark talent as expiring if last hit was before expiry date\r\n            let pastExpiryDate = latestHit.endTimestamp!.getTime() <= currentDate.getTime() - (28 * 60 * 60 * 1000);\r\n            talent.expiring = pastExpiryDate;\r\n\r\n            // Calculate talent burndown\r\n            let expirationDateMs =\r\n                currentDate.getTime() - (48 * 60 * 60 * 1000);\r\n            let hitEndMs = latestHit.endTimestamp!.getTime();\r\n\r\n            let isBurningDown = hitEndMs <= expirationDateMs;\r\n\r\n            talent.burndown = isBurningDown;\r\n\r\n            if (isBurningDown) {\r\n                let nDays = (expirationDateMs - hitEndMs) / (24 * 60 * 60 * 1000);\r\n                let ultrasLost = 1 + Math.floor(nDays);\r\n\r\n                // Bye bye :(\r\n                talent.goldUltras = Math.max(latestHit.ultrasHeld - ultrasLost, 0);\r\n                talent.progress = 0;\r\n                talent.streakCount = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    dispatch({\r\n        type: CALCULATE_PROGRESSION,\r\n        payload: {\r\n            talents: talentsData,\r\n            sessions: sessionsData\r\n        }\r\n    });\r\n}","export type Talent = {\r\n    // TODO: Split into two different data objects?\r\n\r\n    // Talent (TalentInfo)\r\n    id: number\r\n    userId: number\r\n    name: string\r\n\r\n    // TalentProgression\r\n    progress: number\r\n    progressTarget: number\r\n    goldUltras: number\r\n    totalSeconds: number\r\n    streakCount: number\r\n    streakObtained: boolean\r\n    expiring: boolean\r\n    burndown: boolean\r\n}\r\n\r\n// Useful progress targets:\r\n// 40 hours = 144000 seconds\r\n// 25 minutes = 1500 seconds\r\n\r\nexport function createTalent(id: number, name: string, userId: number = 0, progress: number = 0, progressTarget: number = 144000, goldUltras: number = 0, totalSeconds: number = 0, streakCount: number = 0, streakObtained: boolean = false, expiring: boolean = false, burndown: boolean = false): Talent {\r\n    return {\r\n        id: id,\r\n        userId: userId,\r\n        name: name,\r\n        progress: progress,\r\n        progressTarget: progressTarget,\r\n        goldUltras: goldUltras,\r\n        totalSeconds: totalSeconds,\r\n        streakCount: streakCount,\r\n        streakObtained: streakObtained,\r\n        expiring: expiring,\r\n        burndown: burndown\r\n    }\r\n}\r\n\r\nexport function cloneTalent(talent: Talent): Talent {\r\n    return {\r\n        id: talent.id,\r\n        userId: talent.userId,\r\n        name: talent.name,\r\n        progress: talent.progress,\r\n        progressTarget: talent.progressTarget,\r\n        goldUltras: talent.goldUltras,\r\n        totalSeconds: talent.totalSeconds,\r\n        streakCount: talent.streakCount,\r\n        streakObtained: talent.streakObtained,\r\n        expiring: talent.expiring,\r\n        burndown: talent.burndown\r\n    }\r\n}","import { TalentSession } from '../models/TalentSession';\r\nimport { Talent } from '../models/Talent';\r\nimport { START_SESSION, POLL_SESSION, STOP_SESSION, GET_SESSIONS } from './types';\r\nimport { IExchangeModel } from '../models/IExchangeModel';\r\nimport { updateTalent, excludeTalent, includeTalent } from './talentActions';\r\nimport { ITalentIncubator } from '../models/ITalentIncubator';\r\nimport { NullTalentIncubator } from '../models/NullTalentIncubator';\r\nimport { prettyTimeString } from '../utils/time';\r\n\r\nlet sessionModel: IExchangeModel<Talent, TalentSession>;\r\n\r\nexport const configureModel = (model: IExchangeModel<Talent, TalentSession>) => {\r\n    sessionModel = model;\r\n}\r\n\r\nconst assertModelActive = () => {\r\n    if (sessionModel === null || sessionModel === undefined)\r\n        throw new EvalError(\"Could not evaluate dispatch action. configureModel() has not been called on this action script.\");\r\n}\r\n\r\nlet incubator: ITalentIncubator = NullTalentIncubator.Null;\r\n\r\nexport const configureIncubator = (newIncubator: ITalentIncubator) => {\r\n    incubator = newIncubator;\r\n}\r\n\r\nexport const startSession = (talent: Talent) => (dispatch: any) => {\r\n    assertModelActive();\r\n\r\n    if (incubator.isIncubating()) {\r\n        dispatch(stopSession());\r\n    }\r\n\r\n    dispatch(excludeTalent(talent.id));\r\n\r\n    let session: TalentSession = sessionModel.exchange(talent);\r\n\r\n    incubator.incubate(talent, session);\r\n\r\n    dispatch({\r\n        type: START_SESSION,\r\n        payload: {talent, session}\r\n    });\r\n}\r\n\r\nexport const stopSession = () => (dispatch: any) => {\r\n    assertModelActive();\r\n\r\n    let bredTalent: Talent | null = incubator.getTalent();\r\n\r\n    if (bredTalent === null)\r\n        throw new EvalError(\"Couldn't stop session. There was no session to stop.\");\r\n\r\n    dispatch(includeTalent(bredTalent.id));\r\n\r\n    // Save the latest changes before stopping\r\n    dispatch(pollSession());\r\n    incubator.stop();\r\n\r\n    document.title = \"Ultra\";\r\n\r\n    dispatch({\r\n        type: STOP_SESSION\r\n    });\r\n}\r\n\r\nexport const pollSession = () => (dispatch: any) => {\r\n    assertModelActive();\r\n\r\n    let poll = null;\r\n    try {\r\n        poll = incubator.poll();\r\n    } catch (EvalError) {\r\n        // Return to resolve race condition\r\n        return;\r\n    }\r\n\r\n    if (poll === null) return;\r\n\r\n    sessionModel.update(poll.session);\r\n    dispatch(updateTalent(poll.talent));\r\n\r\n    let timeString = prettyTimeString(poll.session.progressObtained);\r\n    document.title = `${timeString} + ${poll.talent.name} - Ultra`;\r\n\r\n    dispatch({\r\n        type: POLL_SESSION,\r\n        payload: poll\r\n    });\r\n}\r\n\r\nexport const getSessions = () => (dispatch: any) => {\r\n    assertModelActive();\r\n    dispatch({\r\n        type: GET_SESSIONS,\r\n        payload: sessionModel.getAll()\r\n    });\r\n}","export const DELETE_TALENT = \"DELETE_TALENT\";\r\nexport const NEW_TALENT = \"NEW_TALENTS\";\r\nexport const GET_TALENTS = \"GET_TALENTS\";\r\nexport const UPDATE_TALENT = \"UPDATE_TALENT\";\r\nexport const EXCLUDE_TALENT = \"EXCLUDE_TALENT\";\r\nexport const INCLUDE_TALENT = \"INCLUDE_TALENT\";\r\n\r\nexport const START_SESSION = \"START_SESSION\";\r\nexport const STOP_SESSION = \"STOP_SESSION\";\r\nexport const POLL_SESSION = \"POLL_SESSION\";\r\nexport const GET_SESSIONS = \"GET_SESSIONS\";\r\n\r\nexport const CALCULATE_PROGRESSION = \"CALCULATE_PROGRESSION\";","import { ITalentIncubator } from \"./ITalentIncubator\";\r\nimport { Talent } from '../models/Talent';\r\nimport { TalentSession } from '../models/TalentSession';\r\n\r\nexport class NullTalentIncubator implements ITalentIncubator {\r\n    static Null = new NullTalentIncubator();\r\n\r\n    incubate(talent: Talent, session: TalentSession): void {}\r\n\r\n    poll(): { talent: Talent; session: TalentSession; } | null {\r\n        return null;\r\n    }\r\n\r\n    stop(): void {}\r\n\r\n    isIncubating(): boolean {\r\n        return false;\r\n    }\r\n\r\n    getTalent(): Talent | null {\r\n        return null;\r\n    }\r\n}","/**\r\n * Calculates a short, lovely looking time string.\r\n * @param ts Total seconds.\r\n * @returns The short, lovely looking time string.\r\n */\r\nexport function prettyTimeString(ts: number) {\r\n    let seconds = Math.round(ts) % 60;\r\n    let minutes = Math.floor(ts / 60) % 60;\r\n    let hours = Math.floor(ts / 3600);\r\n    if (ts < 60) {\r\n        // Show only seconds\r\n        return `${seconds} sec`\r\n    } else if (ts < (60 * 60)) {\r\n        // Show minutes and seconds\r\n        return `${minutes}:${seconds} min`\r\n    } else {\r\n        // Show hours and minutes\r\n        if (minutes > 9) {\r\n            return `${hours}:${minutes} hrs`\r\n        } else {\r\n            return `${hours}:0${minutes} hrs`\r\n        }\r\n    }\r\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Polygon_3\",\n  \"data-name\": \"Polygon 3\",\n  d: \"M53.717,0l53.717,90.738H0Z\",\n  transform: \"translate(90.738) rotate(90)\",\n  fill: \"#fff\"\n});\n\nvar SvgPlayButton = function SvgPlayButton(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 90.738,\n    height: 107.434,\n    viewBox: \"0 0 90.738 107.434\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPlayButton, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/PlayButton.97cd76f7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle_13\",\n  \"data-name\": \"Rectangle 13\",\n  width: 76,\n  height: 76\n});\n\nvar SvgStopButton = function SvgStopButton(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 76,\n    height: 76,\n    viewBox: \"0 0 76 76\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStopButton, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/StopButton.5eeea1b2.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback } from 'react';\r\n\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { TalentSession } from '../models/TalentSession';\r\nimport { Talent } from '../models/Talent';\r\nimport { cGhostBlue } from './constants';\r\nimport { startSession, stopSession } from '../actions/timerActions';\r\nimport { ReactComponent as PlayButton } from '../assets/images/PlayButton.svg';\r\nimport { ReactComponent as StopButton } from '../assets/images/StopButton.svg';\r\n\r\ntype PlayToggleButtonProps = {\r\n    talent?: Talent,\r\n    session?: TalentSession,\r\n    ghost?: boolean,\r\n    placeholder?: boolean\r\n}\r\n\r\nfunction PlayToggleButton(props: PlayToggleButtonProps) {\r\n    const dispatch = useDispatch();\r\n    const startSessionAction = useCallback(\r\n        () => {\r\n            if (props.talent)\r\n                dispatch(startSession(props.talent))\r\n        }\r\n    , [dispatch, props.talent])\r\n    const stopSessionAction = useCallback((e: React.MouseEvent) => {\r\n        dispatch(stopSession());\r\n    }, [dispatch])\r\n    \r\n    if (props.ghost)\r\n        return <></>\r\n\r\n    if (props.placeholder)\r\n        return <StopButton\r\n            test-id=\"talentTimer.stop\"\r\n            fill={cGhostBlue}\r\n            />\r\n\r\n    if (props.session)\r\n        return <StopButton\r\n            test-id=\"talentTimer.stop\"\r\n            onClick={stopSessionAction}\r\n            fill=\"#FFF\"\r\n            style={{\r\n                cursor: \"pointer\"\r\n            }}\r\n            />\r\n    \r\n    return <PlayButton\r\n        test-id={`talentListItem.${props.talent ? props.talent.id : 0}.startTalent`} \r\n        color=\"success\" \r\n        onClick={startSessionAction}\r\n        style={{\r\n            cursor: \"pointer\",\r\n            transform: \"scale(0.9)\"\r\n        }}\r\n        />\r\n}\r\n\r\nexport default PlayToggleButton;","import React from 'react';\r\n\r\nimport { Talent } from '../models/Talent';\r\nimport { TalentSession } from '../models/TalentSession';\r\nimport { centerCell, bodyFont, cGhostBlue, cMedBlue } from './constants';\r\nimport PlayToggleButton from './PlayToggleButton';\r\n\r\ntype TalentControlsProps = {\r\n    talent: Talent,\r\n    session?: TalentSession,\r\n    placeholder?: boolean,\r\n    ghost?: boolean\r\n}\r\n\r\nfunction TalentControls(props: TalentControlsProps) {\r\n    let textColor: string;\r\n    if (props.placeholder)\r\n        textColor = cGhostBlue\r\n    else if (props.ghost)\r\n        textColor = cMedBlue\r\n    else\r\n        textColor = \"#FFF\";\r\n\r\n    // let minutes = props.talent.totalSeconds / 60;\r\n    // minutes = Math.floor(minutes) % 60;\r\n    // let seconds = Math.round(props.talent.totalSeconds) % 60;\r\n    let hours = props.talent.totalSeconds / 3600;\r\n    hours = Math.ceil(hours * 10) / 10;\r\n\r\n    // let sm;\r\n    // let ss;\r\n    let sh;\r\n    if (props.session) {\r\n        // ss = Math.round(props.session.progressObtained) % 60;\r\n        // sm = Math.floor(props.session.progressObtained / 60) % 60\r\n        sh = Math.ceil(props.session.progressObtained / 3600 * 10) / 10;\r\n    }\r\n\r\n    return (\r\n        <>\r\n\r\n        <div style={{\r\n            ...bodyFont,\r\n            color: textColor,\r\n            marginRight: \"32px\"\r\n        }}>\r\n            { props.session || props.placeholder ? \r\n                <div style={{\r\n                    height: \"78px\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"right\",\r\n                }}>\r\n                    <span style={{\r\n                        fontSize: \"1.5rem\",\r\n                        height: \"30px\",\r\n                        margin: \"auto 0\",\r\n                        marginRight: \"8px\"\r\n                    }}>LV. </span>\r\n                    <span style={{\r\n                        fontSize: \"3rem\"\r\n                    }}>\r\n                        {props.talent.goldUltras}\r\n                    </span>\r\n                </div>\r\n            :\r\n                <div style={{\r\n                    height: \"110px\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"right\",\r\n                }}>\r\n                    <span style={{\r\n                        fontSize: \"2.5rem\",\r\n                        height: \"40px\",\r\n                        margin: \"auto 0\",\r\n                        marginRight: \"8px\"\r\n                    }}>LV. </span>\r\n                    <span style={{\r\n                        fontSize: \"4.5rem\"\r\n                    }}>\r\n                        {props.talent.goldUltras}\r\n                    </span>\r\n                </div>\r\n            }\r\n            <div style={{\r\n                display: \"flex\",\r\n                justifyContent: \"right\",\r\n                height: \"5px\"\r\n            }}>\r\n                <div style={{\r\n                    ...centerCell,\r\n                    fontSize: \"2rem\",\r\n                    mixBlendMode: props.ghost || props.placeholder ?\r\n                        \"exclusion\" : \"normal\"\r\n                }}><span role=\"img\" aria-label=\"Streak\"></span> </div>\r\n                <div style={{\r\n                    ...centerCell,\r\n                    fontSize: \"2.8rem\",\r\n                }}>{props.talent.streakCount}</div>\r\n            </div>\r\n            { props.session ? \r\n                <>\r\n                    <div style={{\r\n                        fontSize: \"3rem\",\r\n                        height: \"52px\"\r\n                    }}>\r\n                        {sh} hours\r\n                    </div>\r\n                    <div style={{\r\n                        fontSize: \"1rem\",\r\n                        textAlign: \"right\"\r\n                    }}>\r\n                        {hours} hours\r\n                    </div>\r\n                </>\r\n            :\r\n            props.placeholder ?\r\n                <>\r\n                    <div style={{\r\n                        fontSize: \"3rem\",\r\n                        height: \"52px\"\r\n                    }}>\r\n                        0 hours\r\n                    </div>\r\n                    <div style={{\r\n                        fontSize: \"1rem\",\r\n                        textAlign: \"right\"\r\n                    }}>\r\n                        {hours} hours\r\n                    </div>\r\n                </>\r\n            :\r\n                <div style={{\r\n                    fontSize: \"1.8rem\",\r\n                    marginTop: \"12px\",\r\n                    marginBottom: \"12px\"\r\n                }}>\r\n                    {hours} hours\r\n                </div>\r\n            }\r\n        </div>\r\n\r\n        <PlayToggleButton talent={props.talent}\r\n            session={props.session}\r\n            ghost={props.ghost}\r\n            placeholder={props.placeholder}\r\n            />\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default TalentControls;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Icon_material-edit\",\n  \"data-name\": \"Icon material-edit\",\n  d: \"M4.5,25.875V31.5h5.625l16.59-16.59L21.09,9.285ZM31.065,10.56a1.494,1.494,0,0,0,0-2.115l-3.51-3.51a1.494,1.494,0,0,0-2.115,0L22.695,7.68l5.625,5.625,2.745-2.745Z\",\n  transform: \"translate(-4.5 -4.496)\",\n  fill: \"#757575\"\n});\n\nvar SvgEditIcon = function SvgEditIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 27.004,\n    height: 27.004,\n    viewBox: \"0 0 27.004 27.004\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgEditIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/EditIcon.42beb80d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Icon_awesome-trash-alt\",\n  \"data-name\": \"Icon awesome-trash-alt\",\n  d: \"M2.25,32.625A3.375,3.375,0,0,0,5.625,36h20.25a3.375,3.375,0,0,0,3.375-3.375V9h-27Zm19.125-18a1.125,1.125,0,0,1,2.25,0v15.75a1.125,1.125,0,0,1-2.25,0Zm-6.75,0a1.125,1.125,0,0,1,2.25,0v15.75a1.125,1.125,0,0,1-2.25,0Zm-6.75,0a1.125,1.125,0,0,1,2.25,0v15.75a1.125,1.125,0,0,1-2.25,0ZM30.375,2.25H21.938L21.277.935A1.688,1.688,0,0,0,19.765,0H11.728a1.668,1.668,0,0,0-1.5.935L9.563,2.25H1.125A1.125,1.125,0,0,0,0,3.375v2.25A1.125,1.125,0,0,0,1.125,6.75h29.25A1.125,1.125,0,0,0,31.5,5.625V3.375A1.125,1.125,0,0,0,30.375,2.25Z\",\n  fill: \"#757575\"\n});\n\nvar SvgDeleteIcon = function SvgDeleteIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 31.5,\n    height: 36,\n    viewBox: \"0 0 31.5 36\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDeleteIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/DeleteIcon.27e494ac.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useState } from 'react';\r\n\r\nimport { Row, Col } from 'reactstrap';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { ReactComponent as EditIcon } from '../assets/images/EditIcon.svg';\r\nimport { ReactComponent as DeleteIcon } from '../assets/images/DeleteIcon.svg';\r\nimport { centerCell } from './constants';\r\nimport { deleteTalent } from '../actions/talentActions';\r\n\r\n\r\nfunction TalentRightClickMenu(props: any) {\r\n    const dispatch = useDispatch();\r\n    const deleteAction = useCallback(() => {\r\n        dispatch(deleteTalent(props.talent.id));\r\n    }, [dispatch, props.talent.id]);\r\n\r\n    return (\r\n        <div id=\"talent-right-click-menu\" style={{\r\n            position: \"absolute\",\r\n            top: props.y,\r\n            left: props.x,\r\n            height: \"252px\",\r\n            width: \"209px\",\r\n            boxShadow: \"3px 3px 6px 0px rgba(0, 0, 0, 0.16)\",\r\n            backgroundColor: \"#FFF\",\r\n            zIndex: 50,\r\n            borderRadius: \"20px\",\r\n        }}>\r\n            <MenuItem icon={EditIcon} text=\"Edit\" click={props.edit} style={{\r\n                marginTop: \"0.9rem\"\r\n            }} />\r\n            <MenuItem icon={DeleteIcon} text=\"Delete\" click={deleteAction} />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction MenuItem(props: any) {\r\n    const [ hovering, setHovering ] = useState(false);\r\n    const mouseEnter = useCallback(() => {\r\n        setHovering(true);\r\n    }, []);\r\n    const mouseLeave = useCallback(() => {\r\n        setHovering(false);\r\n    }, []);\r\n    return (\r\n        <Row className=\"mx-auto p-2 no-gutters\"\r\n        style={{\r\n            fontFamily: \"Tw Cen MT\",\r\n            fontSize: \"1.5rem\",\r\n            color: \"#757575\",\r\n            backgroundColor: hovering ? \"rgba(215, 214, 255, 0.28)\" : \"transparent\",\r\n            borderRadius: \"21px\",\r\n            maxWidth: \"91%\",\r\n            ...props.style\r\n        }}\r\n        onMouseEnter={mouseEnter}\r\n        onMouseLeave={mouseLeave}\r\n        onMouseUp={props.click}>\r\n            <Col style={{\r\n                ...centerCell,\r\n                maxWidth: \"25%\"\r\n                }}>\r\n                <props.icon height=\"18px\" />\r\n            </Col>\r\n            <Col style={{...centerCell,\r\n                justifyContent: \"left\"}}>\r\n                {props.text}\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default TalentRightClickMenu;","import React, { useCallback, useState, useEffect, useRef } from \"react\";\r\n\r\nimport { Col, Row } from 'reactstrap';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { Talent } from \"../models/Talent\";\r\nimport { cMedBlue, bodyFont, centerCell, cGhostBlue } from './constants';\r\nimport Ultra from '../components/Ultra';\r\nimport TalentControls from './TalentControls';\r\nimport TalentRightClickMenu from './TalentRightClickMenu';\r\nimport { updateTalent } from \"../actions/talentActions\";\r\n\r\nexport type TalentListItemProps = {\r\n    talent: Talent\r\n    beginEditing?: boolean\r\n}\r\n\r\nfunction TalentListItem(props: TalentListItemProps) {\r\n    const dispatch = useDispatch();\r\n\r\n    let blockCancel = useRef(false);\r\n\r\n    const [ editing, setEditing ] = useState(props.beginEditing);\r\n    const enableEditing = useCallback(() => {\r\n        setEditing(true);\r\n        blockCancel.current = true;\r\n        setTimeout(() => blockCancel.current = false, 100);\r\n    }, [setEditing, blockCancel]);\r\n\r\n    // Stop editing if focus is lost\r\n    useEffect(() => {\r\n        const handleDisableEditingOnDefocus = (e: any) => {\r\n            let target: HTMLElement = e.target;\r\n\r\n            if (blockCancel.current) return;\r\n\r\n            if (target.id !== `talent-nameInput`) {\r\n                setEditing(false);\r\n            }\r\n        }\r\n        document.addEventListener(\"click\", handleDisableEditingOnDefocus);\r\n        return () => {\r\n            document.removeEventListener(\"click\", handleDisableEditingOnDefocus);\r\n        }\r\n    }, []);\r\n\r\n    const [ rightClick, setRightClick ] = useState(false);\r\n    const [ rightClickCoords, setRightClickCoords ] = useState({x: 0, y: 0});\r\n\r\n    const openRightClickMenu = useCallback((e: React.MouseEvent) => {\r\n        e.preventDefault();\r\n        setRightClick(true);\r\n        setRightClickCoords({x: e.pageX, y: e.pageY});\r\n    }, [setRightClick, setRightClickCoords]);\r\n\r\n    // Close right click menu if focus is lost\r\n    useEffect(() => {\r\n        const handleCloseOnDefocus = (e: any) => {\r\n            let target: HTMLElement = e.target;\r\n            if (target.id !== `talent-${props.talent.id}-right-click-menu`) {\r\n                setRightClick(false);\r\n            }\r\n        }\r\n        document.addEventListener(\"click\", handleCloseOnDefocus);\r\n        return () => {\r\n            document.removeEventListener(\"click\", handleCloseOnDefocus);\r\n        }\r\n    }, [props.talent.id]);\r\n\r\n    const progressDisplayValue = useCallback((id: number) => {\r\n        let overflow = props.talent.goldUltras % 3;\r\n        if (overflow === id) {\r\n            // if (props.talent.streakObtained) {\r\n                return props.talent.progress;\r\n            // } else {\r\n            //     // Calculated from 5.7 / 0.5 ((40 hrs/7) / 0.5hrs)\r\n            //     return props.talent.progress * 11.4;\r\n            // }\r\n        }\r\n        if (overflow > id) return props.talent.progressTarget;\r\n        return 0\r\n    }, [props.talent]);\r\n    const closeTargetDisplayValue = useCallback((id: number) => {\r\n        if (props.talent.streakObtained) return 0;\r\n\r\n        let overflow = props.talent.goldUltras % 3;\r\n        if (overflow === id) {\r\n            // if (props.talent.streakObtained) {\r\n                return (props.talent.progress / props.talent.progressTarget) + 1 / 7;\r\n            // } else {\r\n            //     // Calculated from 5.7 / 0.5 ((40 hrs/7) / 0.5hrs)\r\n            //     return props.talent.progress * 11.4;\r\n            // }\r\n        }\r\n        if (overflow > id) return props.talent.progressTarget;\r\n        return 0\r\n    }, [props.talent]);\r\n\r\n    let background;\r\n    if (editing) {\r\n        background = cGhostBlue;\r\n    } else if (props.talent.burndown) {\r\n        background = \"radial-gradient(circle at top left, rgba(255,201,22,1) 0%, rgba(255, 236, 172, 1) 100%)\"\r\n    } else if (props.talent.expiring) {\r\n        background = \"radial-gradient(circle at top left, rgba(255,74,152,1) 0%, rgba(255,201,22,1) 100%)\"\r\n    } else if (props.talent.streakObtained) {\r\n        background = \"radial-gradient(circle at top left, rgba(142,138,255,1) 0%, rgba(255,74,152,1) 100%)\"\r\n    } else {\r\n        background = \"radial-gradient(circle at top left, rgba(142,138,255,1) 0%, rgba(255,74,152,1) 50%, rgba(255,201,22,1) 100%)\"\r\n    }\r\n\r\n    const [ name, setName ] = useState(props.talent.name);\r\n    const onEditNameChange = useCallback((e: any) => {\r\n        setName(e.target.value);\r\n    }, [setName]);\r\n    const onEditNameFinished = useCallback((e: any) => {\r\n        e.preventDefault();\r\n        props.talent.name = name;\r\n        setEditing(false);\r\n        dispatch(updateTalent(props.talent));\r\n    }, [name, setEditing, props.talent, dispatch]);\r\n\r\n    return (\r\n        <Row id={`talent-${props.talent.id}`}\r\n            className=\"mb-4 mx-auto no-gutters\"\r\n            style={{\r\n                maxWidth: \"95vw\",\r\n                background: background,\r\n                minHeight: \"190px\",\r\n                borderRadius: \"20px\"\r\n            }}\r\n            onContextMenu={openRightClickMenu}>\r\n\r\n            { rightClick ? \r\n                <TalentRightClickMenu\r\n                    talent={props.talent}\r\n                    edit={enableEditing}\r\n                    x={rightClickCoords.x}\r\n                    y={rightClickCoords.y}\r\n                    />\r\n            :\r\n                <></>\r\n            }\r\n\r\n            <Col style={{...centerCell,\r\n                maxWidth: \"33.33%\",\r\n                minWidth: \"450px\"\r\n                }}>\r\n                { editing ?\r\n                    <form onSubmit={onEditNameFinished} style={{\r\n                        maxWidth: \"100%\"\r\n                    }}>\r\n                        <input id=\"talent-nameInput\" style={{\r\n                            ...bodyFont,\r\n                            backgroundColor: \"transparent\",\r\n                            border: \"none\",\r\n                            color: cMedBlue,\r\n                            fontSize: \"3rem\",\r\n                            padding: \"0\",\r\n                            textAlign: \"center\",\r\n                            maxWidth: \"100%\"\r\n                        }}\r\n                        value={name}\r\n                        onChange={onEditNameChange}\r\n                        ></input>\r\n                    </form>\r\n                :\r\n                    <div test-id=\"talentName\" style={{\r\n                        ...bodyFont,\r\n                        color: \"#FFF\",\r\n                        fontSize: \"3rem\",\r\n                    }}>\r\n                        {props.talent.name}\r\n                    </div>\r\n                }\r\n            </Col>\r\n\r\n            <Col style={{...centerCell,\r\n                maxWidth: \"33.33%\",\r\n                minWidth: \"450px\"\r\n            }}>\r\n                <Row>\r\n                    <Col>\r\n                        <Ultra progress={progressDisplayValue(0)}\r\n                            progressTarget={props.talent.progressTarget}\r\n                            background={editing ? cMedBlue : undefined}\r\n                            backgroundOpacity=\"0.5\"\r\n                            closeTarget={closeTargetDisplayValue(0)}\r\n                            />\r\n                    </Col>\r\n                    <Col>\r\n                        <Ultra progress={progressDisplayValue(1)}\r\n                            progressTarget={props.talent.progressTarget}\r\n                            background={editing ? cMedBlue : undefined}\r\n                            backgroundOpacity=\"0.5\"\r\n                            closeTarget={closeTargetDisplayValue(1)}\r\n                            />\r\n                    </Col>\r\n                    <Col>\r\n                        <Ultra progress={progressDisplayValue(2)}\r\n                            progressTarget={props.talent.progressTarget}\r\n                            background={editing ? cMedBlue : undefined}\r\n                            backgroundOpacity=\"0.5\"\r\n                            closeTarget={closeTargetDisplayValue(2)}\r\n                            />\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n\r\n            <Col style={{...centerCell,\r\n                maxWidth: \"33.33%\",\r\n                minWidth: \"450px\"\r\n            }}>\r\n                <TalentControls talent={props.talent} ghost={editing ? true : undefined} />\r\n            </Col>\r\n\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default TalentListItem;","import React from 'react';\r\n\r\nimport TalentListItem from './TalentListItem';\r\nimport { Talent } from '../models/Talent';\r\n\r\ntype TalentListProps = {\r\n    talents: Talent[]\r\n    lastBeginsEditing?: boolean\r\n}\r\n\r\n/**\r\n * A list of talents.\r\n */\r\nfunction TalentList(props: TalentListProps) {\r\n    const talents = props.talents.map(\r\n        (talent, i, arr) => <TalentListItem\r\n            key={talent.id}\r\n            talent={talent}\r\n            beginEditing={props.lastBeginsEditing && i === arr.length - 1}\r\n        />\r\n    );\r\n    return (\r\n        <>\r\n        {talents}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default TalentList;","import React, { useCallback } from 'react';\r\n\r\nimport { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport { Talent, createTalent } from '../models/Talent';\r\nimport { pollSession } from '../actions/timerActions';\r\nimport { TalentSession } from '../models/TalentSession';\r\nimport { medBlue, bodyFont, centerCell } from './constants';\r\nimport Ultra from '../components/Ultra';\r\nimport TalentControls from './TalentControls';\r\n\r\ntype TalentTimerProps = {\r\n    talent: Talent | null,\r\n    session: TalentSession | null\r\n}\r\n\r\nfunction TalentTimer(props: TalentTimerProps) {\r\n    let timing = props.talent !== null && props.session !== null;\r\n\r\n    const dispatch = useDispatch();\r\n    const [ timer, setTimer ] = useState(0);\r\n\r\n    if (timing && !timer) {\r\n        setTimer(\r\n            setInterval(() => {\r\n                dispatch(pollSession())\r\n            }, 200)\r\n        );\r\n    }\r\n\r\n    if (!timing && timer) {\r\n        clearInterval(timer);\r\n        setTimer(0);\r\n    }\r\n\r\n    if (timing)\r\n        return <TalentProgress talent={props.talent!} session={props.session!} />\r\n    else\r\n        return <TalentPlaceholder />\r\n}\r\n\r\ntype TalentProgressProps  = {\r\n    talent: Talent,\r\n    session: TalentSession\r\n}\r\n\r\nfunction TalentProgress(props: TalentProgressProps) {\r\n    const progressDisplayValue = useCallback((id: number) => {\r\n        let overflow = props.talent.goldUltras % 3;\r\n        if (overflow === id) {\r\n            if (props.talent.streakObtained) {\r\n                return props.talent.progress;\r\n            } else {\r\n                return props.talent.progress + props.session.progressObtained * 11;\r\n            }\r\n        }\r\n        if (overflow > id) return props.talent.progressTarget;\r\n        return 0\r\n    }, [props.talent, props.session]);\r\n\r\n    const closeTargetDisplayValue = useCallback((id: number) => {\r\n        if (props.talent.streakObtained) return 0;\r\n\r\n        let overflow = props.talent.goldUltras % 3;\r\n        if (overflow === id)\r\n            return (props.talent.progress / props.talent.progressTarget) + 1 / 7;\r\n        if (overflow > id) return props.talent.progressTarget;\r\n        return 0\r\n    }, [props.talent]);\r\n\r\n    const beingTimed = useCallback((id: number) => {\r\n        let overflow = props.talent.goldUltras % 3;\r\n        if (overflow === id)\r\n            return true;\r\n        return false;\r\n    }, [props.talent]);\r\n\r\n    let background = props.talent.streakObtained ?\r\n        \"radial-gradient(circle at top left, rgba(142,138,255,1) 0%, rgba(69,62,255,1) 75%, rgba(69,62,255,1) 100%)\"\r\n        :\r\n        \"radial-gradient(circle at top left, rgba(142,138,255,1) 0%, rgba(255,74,152,1) 50%, rgba(255,201,22,1) 100%)\"\r\n\r\n    return (\r\n        <Row className=\"mb-3 mx-auto no-gutters\" style={{\r\n            maxWidth: \"95vw\",\r\n            minHeight: \"190px\",\r\n            borderRadius: \"20px\",\r\n            background: background\r\n        }}>\r\n            <Col style={{...centerCell}}>\r\n                <div test-id=\"talentTimer.talentName\" className=\"title\"\r\n                    style={{...bodyFont,\r\n                        color: \"#FFF\",\r\n                        fontSize: \"3rem\"}}>\r\n                    {props.talent.name}\r\n                </div>\r\n            </Col>\r\n            <Col style={{...centerCell}}>\r\n                <Row>\r\n                    <Col>\r\n                        <Ultra progress={progressDisplayValue(0)}\r\n                            progressTarget={props.talent.progressTarget}\r\n                            backgroundOpacity=\"1\"\r\n                            closeTarget={closeTargetDisplayValue(0)}\r\n                            beingTimed={beingTimed(0)}\r\n                            />\r\n                    </Col>\r\n                    <Col>\r\n                        <Ultra progress={progressDisplayValue(1)}\r\n                            progressTarget={props.talent.progressTarget}\r\n                            backgroundOpacity=\"1\"\r\n                            closeTarget={closeTargetDisplayValue(1)}\r\n                            beingTimed={beingTimed(1)}\r\n                            />\r\n                    </Col>\r\n                    <Col>\r\n                        <Ultra progress={progressDisplayValue(2)}\r\n                            progressTarget={props.talent.progressTarget}\r\n                            backgroundOpacity=\"1\"\r\n                            closeTarget={closeTargetDisplayValue(2)}\r\n                            beingTimed={beingTimed(2)}\r\n                            />\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n            <Col style={{...centerCell}}>\r\n                <TalentControls talent={props.talent} session={props.session} />\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\nconst dummyTalent = createTalent(0, \"Start a talent to begin earning ultra.\", 7, 0, 1, 0, 0, 0);\r\n\r\nfunction TalentPlaceholder() {\r\n    return (\r\n        <Row className=\"mb-4 mx-auto no-gutters\" style={{\r\n            maxWidth: \"95vw\",\r\n            minHeight: \"190px\",\r\n            borderStyle: \"dashed\",\r\n            borderColor: \"#D7D6FF\",\r\n            borderWidth: \"7px\",\r\n            borderRadius: \"20px\"\r\n        }}>\r\n            <Col style={{\r\n                ...bodyFont,\r\n                ...medBlue,\r\n                ...centerCell,\r\n                fontSize: \"3rem\",\r\n                width: \"60%\",\r\n            }}>\r\n                Start a talent to begin earning ultra.\r\n            </Col>\r\n            <Col style={{...centerCell}}>\r\n                <Row>\r\n                    <Col>\r\n                        <Ultra progress={0}\r\n                            progressTarget={1}\r\n                            />\r\n                    </Col>\r\n                    <Col>\r\n                        <Ultra progress={0}\r\n                            progressTarget={1}\r\n                            />\r\n                    </Col>\r\n                    <Col>\r\n                        <Ultra progress={0}\r\n                            progressTarget={1}\r\n                            />\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n            <Col style={{...centerCell}}>\r\n                <TalentControls talent={dummyTalent} placeholder />\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default TalentTimer;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Polygon_7\",\n  \"data-name\": \"Polygon 7\",\n  d: \"M99,0l99,172H0Z\",\n  fill: \"#8e8aff\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Polygon_8\",\n  \"data-name\": \"Polygon 8\",\n  d: \"M56,0l56,97H0Z\",\n  transform: \"translate(0 75)\",\n  fill: \"#453eff\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"text\", {\n  id: \"Ultra\",\n  transform: \"translate(211 123)\",\n  fill: \"#453eff\",\n  fontSize: 117,\n  fontFamily: \"TwCenMT-Regular, Tw Cen MT\"\n}, /*#__PURE__*/React.createElement(\"tspan\", {\n  x: 0,\n  y: 0\n}, \"Ultra\"));\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Component_3_1\",\n    \"data-name\": \"Component 3 \\\\u2013 1\",\n    width: 443,\n    height: 172,\n    viewBox: \"0 0 443 172\",\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Logo.a0de5b4c.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\n\r\nimport { ReactComponent as Logo } from '../assets/images/Logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <Logo style={{\r\n            maxHeight: \"15vh\",\r\n            marginTop: \"8px\",\r\n            marginBottom: \"35px\"\r\n        }} />\r\n    )\r\n}\r\n\r\nexport default Header;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Icon_ionic-ios-add-circle-outline\",\n  \"data-name\": \"Icon ionic-ios-add-circle-outline\",\n  transform: \"translate(-3.375 -3.375)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1\",\n  \"data-name\": \"Path 1\",\n  d: \"M35.476,21.98H26.035V12.539a2.028,2.028,0,1,0-4.055,0V21.98H12.539a1.942,1.942,0,0,0-2.028,2.028,1.963,1.963,0,0,0,2.028,2.028H21.98v9.441A1.964,1.964,0,0,0,24.008,37.5a2.017,2.017,0,0,0,2.028-2.028V26.035h9.441a2.028,2.028,0,1,0,0-4.055Z\",\n  transform: \"translate(5.726 5.726)\",\n  fill: \"#8e8aff\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_2\",\n  \"data-name\": \"Path 2\",\n  d: \"M29.733,6.923A22.814,22.814,0,0,1,45.865,45.865,22.814,22.814,0,0,1,13.6,13.6,22.659,22.659,0,0,1,29.733,6.923m0-3.548A26.358,26.358,0,1,0,56.092,29.733,26.354,26.354,0,0,0,29.733,3.375Z\",\n  fill: \"#8e8aff\"\n}));\n\nvar SvgAddTalentButton = function SvgAddTalentButton(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 52.717,\n    height: 52.717,\n    viewBox: \"0 0 52.717 52.717\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAddTalentButton, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/AddTalentButton.4b40846d.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useState, useEffect } from 'react';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { ReactComponent as AddTalentButton } from '../assets/images/AddTalentButton.svg';\r\nimport { cGhostBlue, cMedBlue } from './constants';\r\nimport { newTalent } from '../actions/talentActions';\r\n\r\nfunction NewTalentButton() {\r\n    const dispatch = useDispatch();\r\n    \r\n    const [opening, setOpening] = useState(false);\r\n    const newTalentAction = useCallback(() => {\r\n        setOpening(true);\r\n        setTimeout(() => {\r\n            window.scrollTo(0, window.outerHeight);\r\n        }, 150);\r\n        setTimeout(() => {\r\n            setOpening(false);\r\n            dispatch(newTalent(\"Your New Talent\"));\r\n        }, 300);\r\n    }, [dispatch, setOpening])\r\n\r\n    const conditionalAnimation = opening ? {\r\n        transitionDuration: \"300ms\",\r\n        transitionTimingFunction: \"ease-out\"\r\n    } : {}\r\n\r\n    let [showHint, setShowHint] = useState(false);\r\n    useEffect(() => {\r\n        // if (localStorage.getItem(\"showHint\") === null) {\r\n        //     setShowHint(true);\r\n        // }\r\n\r\n        // localStorage.setItem(\"showHint\", \"false\");\r\n\r\n        // TODO: Change how hinting works in the future. For now, this will\r\n        // remain always-on.\r\n        setShowHint(true);\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div id=\"new-talent-button\"\r\n            className=\"p-2 mx-auto\"\r\n            style={{\r\n                width: opening ? \"95vw\" : \"25vw\",\r\n                height: opening ? \"190px\" : \"46px\",\r\n                backgroundColor: cGhostBlue,\r\n                borderRadius: \"41px\",\r\n                cursor: \"pointer\",\r\n                ...conditionalAnimation\r\n            }}\r\n            onClick={newTalentAction}>\r\n                { opening ?\r\n                    <></>\r\n                :\r\n                    <AddTalentButton height=\"30px\" />\r\n                }\r\n            </div>\r\n            { showHint ? \r\n                <div style={{\r\n                    color: cMedBlue,\r\n                    fontFamily: \"Tw Cen MT\",\r\n                    fontSize: \"1.5rem\",\r\n                    marginTop: \"8px\"\r\n                }}>\r\n                Right click talents to edit or delete them.\r\n                </div>\r\n            :\r\n                <></>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NewTalentButton;","import React, { useEffect, useState, useCallback } from 'react';\r\n\r\nimport { advanceTo } from 'jest-date-mock';\r\n\r\nimport { cGhostBlue, cUltraBlue } from './constants';\r\n\r\n\r\nfunction UltraConsole() {\r\n    let con = JSON.parse(localStorage.getItem(\"chronobreak\") ?? \"false\");\r\n\r\n    useEffect(() => {\r\n        if (!con) return;\r\n\r\n        let dayJump = parseInt(localStorage.getItem(\"dayjump\") ?? \"0\");\r\n        let timeModifier = parseInt(localStorage.getItem(\"timemod\") ?? \"1\");\r\n    \r\n        let today = JSON.parse(localStorage.getItem(\"timehack\") ?? JSON.stringify(new Date()));\r\n    \r\n        // Jump forward in time\r\n        let tomorrow = new Date(today);\r\n        tomorrow.setDate(tomorrow.getDate() + dayJump);\r\n        advanceTo(tomorrow)\r\n\r\n        if (dayJump !== 0) {\r\n            localStorage.setItem(\"dayjump\", \"0\");\r\n        }\r\n    \r\n        // Emulate temporal progression\r\n        setInterval(() => {\r\n            let tomorrow = new Date();\r\n            tomorrow.setMilliseconds(tomorrow.getMilliseconds() + 100 * timeModifier);\r\n            advanceTo(tomorrow);\r\n            localStorage.setItem(\"timehack\", JSON.stringify(tomorrow));\r\n        }, 100);\r\n    }, [con]);\r\n\r\n    let previousLogs: string[] = JSON.parse(localStorage.getItem(\"logs\") ?? \"[]\");\r\n\r\n    const [ entry, setEntry ] = useState(\"\");\r\n    const [ log, setLog ] = useState(previousLogs);\r\n\r\n    const typeCommandEntry = useCallback((e: any) => {\r\n        setEntry(e.target.value);\r\n    }, [setEntry])\r\n    const fireCommandEntry = useCallback((e: any) => {\r\n        function niceDate(date: Date): string {\r\n            let raw = date.toString();\r\n            const [, month, day, year, time ] = raw.split(\" \");\r\n            return `${month} ${day} ${year} ${time}`;\r\n        }\r\n\r\n        function scribe(text: string) {\r\n            let newLog = [\r\n                ...log,\r\n                `${niceDate(new Date())}: ${text}`\r\n            ];\r\n            setLog(newLog);\r\n            localStorage.setItem(\"logs\", JSON.stringify(newLog));\r\n        }\r\n\r\n        e.preventDefault();\r\n        setEntry(\"\");\r\n\r\n        let strVal: string = entry;\r\n        if (strVal.startsWith(\"jump \") &&\r\n            !isNaN(parseInt(strVal.split(\" \")[1]))) {\r\n            let timeComponent = strVal.split(\" \");\r\n            let nDays = timeComponent[1];\r\n            localStorage.setItem(\"dayjump\", nDays);\r\n\r\n            scribe(`Jumping ahead by ${nDays} days...`);\r\n\r\n            window.location.reload();\r\n        } else if (strVal.startsWith(\"accelerate\")) {\r\n            let split = strVal.split(\" \");\r\n\r\n            if (split.length === 1) {\r\n                scribe(`Time acceleration is currently set to ${localStorage.getItem(\"timemod\")}x.`);\r\n            } else if (!isNaN(parseInt(strVal.split(\" \")[1]))) {\r\n                let mod = split[1];\r\n                localStorage.setItem(\"timemod\", mod);\r\n\r\n                scribe(`Accelerating time by ${mod}x...`);\r\n\r\n                window.location.reload();\r\n            }\r\n        } else if (strVal === \"clear\") {\r\n            setLog([]);\r\n            localStorage.setItem(\"logs\", \"[]\");\r\n        } else if (strVal === \"help\") {\r\n            scribe(\"HELP: // accelerate X - Sets the speed that time moves to a multiplier of X. Not providing X will show the current speed modifier for time. // jump X - Jumps forward X days in time. // clear - Clears console output.\");\r\n        } else {\r\n            scribe(`\"${strVal}\" isn't a valid input. Do you belong here?`);\r\n        }\r\n\r\n        setTimeout(() => {\r\n            let dLog = document.getElementById(\"eco\");\r\n            dLog?.scrollTo(0, dLog.scrollHeight);\r\n        }, 10);\r\n    }, [entry, setEntry, log, setLog])\r\n\r\n    setTimeout(() => {\r\n        let dLog = document.getElementById(\"eco\");\r\n        dLog?.scrollTo(0, dLog.scrollHeight);\r\n    }, 10);\r\n\r\n    if (!con)\r\n        return <></>\r\n\r\n    return (\r\n        <div className=\"mt-4 d-inline-block\" style={{\r\n            border: `8px solid ${cGhostBlue}`,\r\n            borderRadius: \"4px\",\r\n            width: \"33vw\",\r\n            minHeight: \"20vh\",\r\n            backgroundColor: cGhostBlue\r\n        }}>\r\n            <span style={{\r\n                fontFamily: \"Inter\",\r\n                color: cUltraBlue,\r\n                fontSize: \"3rem\"\r\n            }}>\r\n                Chronobreak\r\n            </span>\r\n            <div id=\"eco\" className=\"mx-auto p-1\" style={{\r\n                backgroundColor: \"#1C1E26\",\r\n                fontFamily: \"Inter\",\r\n                color: cGhostBlue,\r\n                minHeight: \"16vh\",\r\n                maxHeight: \"16vh\",\r\n                textAlign: \"left\",\r\n                borderBottom: \"none\",\r\n                overflowY: \"scroll\"\r\n            }}>\r\n                {log.map((el: string, i: number, arr: string[]) => <div key={i}>{el}</div>)}\r\n            </div>\r\n            <form onSubmit={fireCommandEntry}>\r\n                <input className=\"p-1\"\r\n                style={{\r\n                    backgroundColor: \"#1C1E26\",\r\n                    fontFamily: \"Inter\",\r\n                    minHeight: \"4vh\",\r\n                    width: \"100%\",\r\n                    color: cGhostBlue,\r\n                    border: \"none\",\r\n                    borderTop: \"1px solid #FFF\",\r\n                }}\r\n                value={entry}\r\n                onChange={typeCommandEntry}>\r\n                </input>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UltraConsole;","import React, { useEffect, useRef } from 'react';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport ReactGA from 'react-ga';\r\n\r\nimport './App.css';\r\nimport { RootState } from './store';\r\nimport TalentList from './components/TalentList';\r\nimport TalentTimer from './components/TalentTimer';\r\nimport { getTalents, calculateTalentProgression } from './actions/talentActions';\r\nimport Header from './components/Header';\r\nimport NewTalentButton from './components/NewTalentButton';\r\nimport { getSessions } from './actions/timerActions';\r\nimport UltraConsole from './components/UltraConsole';\r\n\r\nfunction App() {\r\n    const dispatch = useDispatch();\r\n    const eco = useRef(\"\");\r\n    useEffect(() => {\r\n        ReactGA.initialize('UA-49256271-5');\r\n        ReactGA.pageview('/talents');\r\n\r\n        dispatch(getTalents());\r\n        dispatch(getSessions());\r\n        dispatch(calculateTalentProgression());\r\n\r\n        let tm = parseInt(localStorage.getItem(\"timemod\") ?? \"1\");\r\n        tm = JSON.parse(localStorage.getItem(\"chronobreak\") ?? \"false\") ? tm : 1;\r\n        let tickInterval = (30 * 60 * 1000) / tm;\r\n        setInterval(() => {\r\n            dispatch(getSessions());\r\n            dispatch(calculateTalentProgression());\r\n        }, tickInterval)\r\n\r\n        document.addEventListener(\"keydown\", (ev: KeyboardEvent) => {\r\n            eco.current += ev.key;\r\n            if (eco.current === \"chronobreak\") {\r\n                ReactGA.event({\r\n                    category: 'User',\r\n                    action: 'Broke into Chronobreak'\r\n                });\r\n\r\n                let bVal: boolean = JSON.parse(localStorage.getItem(\"chronobreak\") ?? \"false\");\r\n                localStorage.setItem(\"chronobreak\", `${!bVal}`);\r\n                document.location.reload();\r\n            }\r\n        });\r\n    }, [dispatch]);\r\n\r\n    const state = useSelector((state: RootState) => state);\r\n    const talents = state.talents.items;\r\n    const { talent, session } = state.timer.session;\r\n    const lastBeginsEditing = state.talents.lastBeginsEditing;\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Header />\r\n            <TalentTimer talent={talent} session={session} />\r\n            <TalentList talents={talents}\r\n                lastBeginsEditing={lastBeginsEditing}\r\n                />\r\n            <NewTalentButton />\r\n            <UltraConsole />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config: any) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: any, config: any) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: any, config: any) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { NEW_TALENT, DELETE_TALENT, GET_TALENTS, EXCLUDE_TALENT, INCLUDE_TALENT, UPDATE_TALENT, CALCULATE_PROGRESSION } from '../actions/types';\r\nimport { Talent } from '../models/Talent';\r\n\r\nexport type TalentReducerState = {\r\n    items: Talent[]\r\n    lastBeginsEditing: boolean\r\n}\r\n\r\nconst initialState: TalentReducerState = {\r\n    items: [],\r\n    lastBeginsEditing: false\r\n}\r\n\r\nexport default function(state = initialState, action: any) {\r\n    switch (action.type) {\r\n        case GET_TALENTS:\r\n            let talents: Talent[] = action.payload;\r\n            return {\r\n                ...state,\r\n                items: talents.sort((a, b) => a.id > b.id ? 1 : -1)\r\n            }\r\n        case NEW_TALENT:\r\n            let newTalent: Talent = action.payload;\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...state.items,\r\n                    newTalent\r\n                ],\r\n                lastBeginsEditing: true\r\n            }\r\n        case DELETE_TALENT:\r\n            let id: number = action.payload;\r\n            let newItems = state.items.filter(tal => tal.id !== id);\r\n            return {\r\n                ...state,\r\n                items: newItems\r\n            }\r\n        case UPDATE_TALENT:\r\n            let payload: Talent = action.payload;\r\n\r\n            // Update item if its already in the list, else its likely being\r\n            // timed inside incubator\r\n            let i = state.items.findIndex(tal => tal.id === payload.id)\r\n            \r\n            if (i === -1)\r\n                return state\r\n\r\n            let items = state.items.filter(tal => tal.id !== payload.id);\r\n\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...items,\r\n                    payload\r\n                ].sort((a, b) => a.id > b.id ? 1 : -1)\r\n            }\r\n        case EXCLUDE_TALENT:\r\n            let targetId = action.payload;\r\n            let exclusionItems = state.items.filter(tal => tal.id !== targetId);\r\n            return {\r\n                ...state,\r\n                items: exclusionItems\r\n            }\r\n        case INCLUDE_TALENT:\r\n            let includeItem: Talent = action.payload;\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...state.items,\r\n                    includeItem\r\n                ].sort((a, b) => a.id > b.id ? 1 : -1),\r\n                lastBeginsEditing: false\r\n            }\r\n        case CALCULATE_PROGRESSION:\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...action.payload.talents\r\n                ]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { Talent } from '../models/Talent';\r\nimport { TalentSession } from '../models/TalentSession';\r\nimport { START_SESSION, STOP_SESSION, POLL_SESSION, GET_SESSIONS } from '../actions/types';\r\n\r\nexport type TimerReducerState = {\r\n    session: {\r\n        talent: Talent | null,\r\n        session: TalentSession | null\r\n    },\r\n    sessions: TalentSession[]\r\n}\r\n\r\nconst initialState = {\r\n    session: {\r\n        talent: null,\r\n        session: null\r\n    },\r\n    sessions: []\r\n}\r\n\r\nexport default function(state = initialState, action: any) {\r\n    switch (action.type) {\r\n        case START_SESSION:\r\n            return {\r\n                ...state,\r\n                session: action.payload\r\n            }\r\n        case STOP_SESSION:\r\n            return {\r\n                ...state,\r\n                session: {\r\n                    talent: null,\r\n                    session: null\r\n                }\r\n            }\r\n        case POLL_SESSION:\r\n            let session: TalentSession = action.payload.session;\r\n            return {\r\n                ...state,\r\n                sessions: [\r\n                    ...state.sessions.filter((s: TalentSession) => s.id !== session.id),\r\n                    session\r\n                ],\r\n                session: action.payload\r\n            }\r\n        case GET_SESSIONS:\r\n            return {\r\n                ...state,\r\n                sessions: action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport talentReducer from './talentReducer';\r\nimport timerReducer from './timerReducer';\r\n\r\nexport default combineReducers({\r\n    talents: talentReducer,\r\n    timer: timerReducer\r\n});","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './reducers';\r\nimport { TalentReducerState } from './reducers/talentReducer';\r\nimport { TimerReducerState } from './reducers/timerReducer';\r\n\r\nexport type RootState = {\r\n    talents: TalentReducerState\r\n    timer: TimerReducerState\r\n}\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst createUltraStore = () =>\r\n    createStore(\r\n        rootReducer,\r\n        initialState,\r\n        applyMiddleware(...middleware)\r\n    );\r\n\r\nexport default createUltraStore;","import IModel from './IModel';\r\n\r\n/**\r\n * Provides simple and fast in-memory storage for model items through a map.\r\n * \r\n * Usefully combined with specialised model implementations for quick model\r\n * implementation and local caching capabilities.\r\n */\r\nexport default class SimpleModel<T> implements IModel<T> {\r\n    protected counter: number = 0;\r\n    protected models: Map<number, T>;\r\n\r\n    private cloneFunc: (el: T) => T;\r\n    private getIdFunc: (el: T) => number;\r\n    private setIdFunc: (el: T, id: number) => void;\r\n\r\n    constructor(kvPairs: [number, T][],\r\n        cloneFunc: (el: T) => T,\r\n        getIdFunc: (el: T) => number,\r\n        setIdFunc: (el: T, id: number) => void) {\r\n        if (kvPairs === undefined)\r\n            throw new ReferenceError(\"Couldn't construct. KV Pairs argument was undefined.\");\r\n\r\n        if (cloneFunc === undefined)\r\n            throw new ReferenceError(\"Couldn't construct. Clone function argument was undefined.\");\r\n\r\n        if (getIdFunc === undefined)\r\n            throw new ReferenceError(\"Couldn't construct. Get ID function argument was undefined.\");\r\n\r\n        if (setIdFunc === undefined)\r\n            throw new ReferenceError(\"Couldn't construct. Set ID function argument was undefined.\");\r\n\r\n        this.cloneFunc = cloneFunc;\r\n        this.getIdFunc = getIdFunc;\r\n        this.setIdFunc = setIdFunc;\r\n\r\n        kvPairs = kvPairs.map(pair => [pair[0], this.cloneFunc(pair[1])]);\r\n        this.models = new Map<number, T>(kvPairs);\r\n\r\n        for (let id of Array.from(this.models.keys())) {\r\n            if (isNaN(id))\r\n                throw new EvalError(`Failed to initialize model object. Model ID: \"${id}\" evaluated to NaN during counter initialization.`);\r\n            \r\n            // Pre-correct the counter for the ids of new elements\r\n            const nId = id + 1;\r\n            this.counter = this.counter > nId ? this.counter : nId;\r\n        }\r\n    }\r\n\r\n    create(model: T): T {\r\n        if (model === null)\r\n            throw new TypeError(\"Can't create an element with a null model argument.\");\r\n\r\n        if (model === undefined)\r\n            throw new TypeError(\"Can't create an element with an undefined model argument.\");\r\n\r\n        if (this.models.has(this.counter))\r\n            throw new RangeError(\"Couldn't create model. ID from counter already exists in the model, which should never happen. Model may be corrupt.\");\r\n\r\n        let clone = this.cloneFunc(model);\r\n        this.setIdFunc(clone, this.counter);\r\n        this.models.set(this.counter, clone);\r\n        this.counter++;\r\n        this.save();\r\n        return this.cloneFunc(clone);\r\n    }\r\n\r\n    getAll(): T[] {\r\n        return Array.from(this.models.values());\r\n    }\r\n\r\n    get(id: number): T | undefined {\r\n        const el = this.models.get(id);\r\n\r\n        if (el === undefined)\r\n            return undefined;\r\n\r\n        // Return a copy to extend immutability\r\n        return this.cloneFunc(el);\r\n    }\r\n\r\n    update(element: T): T {\r\n        if (element === null)\r\n            throw new TypeError(\"Can't update a null element.\");\r\n\r\n        if (element === undefined)\r\n            throw new TypeError(\"Can't update an undefined element.\");\r\n\r\n        let clone = this.cloneFunc(element);\r\n        this.models.set(this.getIdFunc(element), clone);\r\n        this.save();\r\n        return this.cloneFunc(clone);\r\n    }\r\n\r\n    delete(element: T) {\r\n        if (element === null)\r\n            throw new TypeError(\"Can't delete a null element.\");\r\n\r\n        if (element === undefined)\r\n            throw new TypeError(\"Can't delete an undefined element.\");\r\n\r\n        this.models.delete(this.getIdFunc(element));\r\n        this.save();\r\n    }\r\n\r\n    deleteId(id: number) {\r\n        this.models.delete(id);\r\n        this.save();\r\n    }\r\n\r\n    protected save() {}\r\n}","import SimpleModel from './SimpleModel';\r\nimport { Talent, cloneTalent } from './Talent';\r\n\r\n/**\r\n * Saves talents across sessions through the LocalStorage API.\r\n */\r\nclass LocalTalentModel extends SimpleModel<Talent> {\r\n    constructor(initialTalents: Talent[] = []) {\r\n        let talentPairs: [number, Talent][];\r\n\r\n        if (initialTalents.length === 0) {\r\n            const rawTalents = localStorage.getItem(\"talents\");\r\n            talentPairs = JSON.parse(rawTalents ?? \"[]\");\r\n        } else {\r\n            talentPairs = initialTalents.map(tal => [tal.id, tal]);\r\n        }\r\n\r\n        super(\r\n            talentPairs,\r\n            cloneTalent,\r\n            tal => tal.id,\r\n            (tal, id) => tal.id = id\r\n        );\r\n    }\r\n\r\n    protected save() {\r\n        localStorage.setItem(\r\n            \"talents\",\r\n            JSON.stringify(Array.from(this.models))\r\n        );\r\n    }\r\n}\r\n\r\nexport default LocalTalentModel;","export type TalentSession = {\r\n    id: number,\r\n    userId: number,\r\n    talentId: number,\r\n    startTimestamp: Date,\r\n    endTimestamp: Date | null,\r\n    progressObtained: number,\r\n    ultrasHeld: number\r\n}\r\n\r\nexport const createSession = (id: number, talentId: number, userId: number = 0, startTimestamp: Date = new Date(), endTimestamp: Date | null = null, progressObtained: number = 0, ultrasHeld: number = 0): TalentSession => ({\r\n    id: id,\r\n    talentId: talentId,\r\n    userId: userId,\r\n    startTimestamp: startTimestamp,\r\n    endTimestamp: endTimestamp,\r\n    progressObtained: progressObtained,\r\n    ultrasHeld: ultrasHeld\r\n});\r\n\r\nexport const cloneSession = (session: TalentSession): TalentSession => ({\r\n    id: session.id,\r\n    talentId: session.talentId,\r\n    userId: session.userId,\r\n    startTimestamp: session.startTimestamp,\r\n    endTimestamp: session.endTimestamp,\r\n    progressObtained: session.progressObtained,\r\n    ultrasHeld: session.ultrasHeld\r\n});","import { TalentSession, createSession, cloneSession } from './TalentSession';\r\nimport { IExchangeModel } from './IExchangeModel';\r\nimport { Talent } from './Talent';\r\nimport SimpleModel from './SimpleModel';\r\n\r\nexport default class LocalTalentSessionModel extends SimpleModel<TalentSession> implements IExchangeModel<Talent, TalentSession> {\r\n    constructor(initialTalentSessions: TalentSession[] = []) {\r\n        let kvPairs: [number, TalentSession][];\r\n        if (initialTalentSessions.length > 0) {\r\n            kvPairs = initialTalentSessions.map(s => [s.id, s]);\r\n        } else {\r\n            kvPairs = JSON.parse(localStorage.getItem(\"sessions\") ?? \"[]\");\r\n        }\r\n        \r\n        // Convert string values into date objects\r\n        for (let i = 0; i < kvPairs.length; i++) {\r\n            const [ , session ] = kvPairs[i];\r\n            session.startTimestamp = new Date(session.startTimestamp);\r\n            if (session.endTimestamp) {\r\n                session.endTimestamp = new Date(session.endTimestamp);\r\n            }\r\n        }\r\n\r\n        super(kvPairs, cloneSession, (el) => el.id, (el, id) => el.id = id);\r\n    }\r\n\r\n    exchange(seed: Talent): TalentSession {\r\n        let modelSession = super.create(\r\n            createSession(this.counter, seed.id, seed.userId, new Date(), null, 0)\r\n        );\r\n        return modelSession;\r\n    }\r\n\r\n    protected save() {\r\n        localStorage.setItem(\r\n            \"sessions\",\r\n            JSON.stringify(Array.from(this.models))\r\n        );\r\n    }\r\n}","import { Talent, cloneTalent } from \"./Talent\";\r\nimport { TalentSession, cloneSession } from \"./TalentSession\";\r\nimport { ITalentIncubator } from './ITalentIncubator';\r\nimport ReactGA from 'react-ga';\r\n\r\nexport class TalentIncubator implements ITalentIncubator {\r\n    private initialTalent: Talent | null = null;\r\n    private talent: Talent | null = null;\r\n    private session: TalentSession | null = null;\r\n    private lastUpdateMs?: number;\r\n    \r\n    incubate(talent: Talent, session: TalentSession) {\r\n        this.initialTalent = cloneTalent(talent);\r\n        this.talent = cloneTalent(talent);\r\n        this.session = cloneSession(session);\r\n        this.lastUpdateMs = Date.now();\r\n    }\r\n\r\n    poll(): {talent: Talent, session: TalentSession} {\r\n        if (this.talent === null ||\r\n            this.session === null ||\r\n            this.initialTalent === null)\r\n            throw new EvalError(\"Cannot poll. No talents are being incubated.\");\r\n\r\n        if (this.talent.progressTarget <= 0)\r\n            throw new EvalError(\"Could not incubate talent. Progress target was 0, causing divide by zero. Set a progress target of N hours on the talent object.\");\r\n\r\n        if (this.lastUpdateMs === undefined)\r\n            throw new EvalError(\"Could not incubate talent. Illegal program state. Last Update MS was not initialised to a millis, which is impossible, and implies incubate() was never called.\");\r\n\r\n        let nowMs = Date.now();\r\n        let msDelta = nowMs - this.lastUpdateMs;\r\n        let sDelta = msDelta / 1000;\r\n        this.lastUpdateMs = nowMs;\r\n\r\n        let progress = sDelta;\r\n\r\n        this.session.endTimestamp = new Date();\r\n        this.session.progressObtained += progress;\r\n        if (!this.talent.streakObtained && this.session.progressObtained >= 1800) {\r\n            progress += this.talent.progressTarget / 7;\r\n\r\n            this.talent.streakCount++;\r\n            this.talent.streakObtained = true;\r\n            this.talent.expiring = false;\r\n            this.talent.burndown = false;\r\n\r\n            ReactGA.event({\r\n                category: 'User',\r\n                action: 'Streak Hit'\r\n            });\r\n        }\r\n\r\n        this.talent.progress += progress;\r\n        if (this.talent.progress >= this.talent.progressTarget) {\r\n            let nOverflow = Math.floor(this.talent.progress / this.talent.progressTarget);\r\n            this.talent.goldUltras += nOverflow;\r\n            this.talent.progress = this.talent.progress % this.talent.progressTarget;\r\n        }\r\n\r\n        this.talent.totalSeconds += sDelta;\r\n        this.session.ultrasHeld = this.talent.goldUltras;\r\n\r\n        return {\r\n            talent: cloneTalent(this.talent),\r\n            session: cloneSession(this.session)\r\n        }\r\n    }\r\n\r\n    stop() {\r\n        this.initialTalent = null;\r\n        this.talent = null;\r\n        this.session = null;\r\n        this.lastUpdateMs = undefined;\r\n    }\r\n\r\n    isIncubating(): boolean {\r\n        return this.talent !== null;\r\n    }\r\n\r\n    getTalent() : Talent | null {\r\n        return this.talent;\r\n    }\r\n}","import { configureModel as configureTalentModel } from './actions/talentActions';\r\nimport { configureModel as configureSessionModel, configureIncubator } from './actions/timerActions';\r\nimport LocalTalentModel from './models/LocalTalentModel';\r\nimport LocalTalentSessionModel from './models/LocalTalentSessionModel';\r\nimport { TalentIncubator } from './models/TalentIncubator';\r\n\r\nconfigureTalentModel(new LocalTalentModel());\r\nconfigureSessionModel(new LocalTalentSessionModel());\r\nconfigureIncubator(new TalentIncubator());","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Provider } from 'react-redux';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport createUltraStore from './store';\r\nimport './modelSetup';\r\n\r\nReactDOM.render(\r\n    <Provider store={createUltraStore()}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\nserviceWorker.register({});"],"sourceRoot":""}